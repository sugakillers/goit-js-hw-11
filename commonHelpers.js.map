{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const baseURL = 'https://pixabay.com';\n\n\nexport const fetchRequest = (value, page, perPage) => {\n\n    const urlOptions = new URLSearchParams({\n        key: \"45468562-3d934deccae668c7d7f46b2f1\",\n        q: value,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        page,\n        per_page: perPage,\n    });\n\n\n    const fullURL = `${baseURL}/api/?${urlOptions}`;\n    console.log(fullURL);\n\n\n    return fetch(fullURL)\n        .then((response) => {\n            if (!response.ok) {\n                throw new Error(\"Error!\");\n            }\n            return response.json();\n        })\n\n        .catch((error) => {\n            console.error(\"Fetch error:\", error);\n            throw error; \n        });\n}\n\n","export function createGalleryCard (imgData) {\n    return `\n    <li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${imgData.largeImageURL}\">\n        <img src=\"${imgData.webformatURL}\" alt=\"${imgData.tags}\" class=\"gallery-img\" />\n        </a>\n        <ul class=\"img-list\">\n        <li class=\"img-item\">\n            <h3 class=\"img-title\">Likes</h3>\n            <p class =\"img-text\">${imgData.likes}</p>\n        </li>\n        <li class=\"img-item\">\n            <h3 class=\"img-title\">Views</h3>\n            <p class =\"img-text\">${imgData.views}</p>\n        </li>\n        <li class=\"img-item\">\n            <h3 class=\"img-title\">Comments</h3>\n            <p class =\"img-text\">${imgData.comments}</p>\n        </li>\n        <li class=\"img-item\">\n            <h3 class=\"img-title\">Downloads</h3>\n            <p class =\"img-text\">${imgData.downloads}</p>\n        </li>\n        </ul>\n    </li>\n    `\n}\n","\nimport { fetchRequest } from \"./js/pixabay-api\";\nimport { createGalleryCard } from \"./js/render-functions\";\nimport iziToast from \"izitoast\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst searchForm = document.querySelector(\".search-form\");\nconst cardsList = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\n\n\n\nlet gallery = new SimpleLightbox(\".gallery li a\", {\ncaptions: true,\ncaptionClass: \"style-caption\",\ncaptionsData: 'alt',\ncaptionDelay: 250,\ndisableRightClick: true,\n});\n\nconst showElement = (element) => element.classList.remove('is-hidden');\nconst hideElement = (element) => element.classList.add('is-hidden');\n\nconst showError = (message, title = \"Error\") => {\n    iziToast.error({\n        message,\n        position: \"topCenter\",\n        title,\n        timeout: 4000,\n    });\n};\n\nconst onSearchFormSubmit = (event) => {\n    event.preventDefault();\n    loader.classList.add(\"is-open\");\n\n    const searchValue = searchForm.elements.user_query.value.trim();\n    if (searchValue === '') {\n        iziToast.info({\n            message: \"Please enter a search query!\",\n            position: \"topCenter\",\n            title: \"Attention\",\n            color: \"red\",\n            timeout: 3000,\n        });\n        loader.classList.remove(\"is-open\");\n        return;\n    }\n\n    fetchRequest(searchValue)\n        .then((data) => {\n            if (data.hits.length === 0) {\n                iziToast.info({\n                    message: \"Sorry, there are no images matching your search query. Please try again!\",\n                    position: \"topCenter\",\n                    title: \"Attention\",\n                    color: \"red\",\n                    timeout: 4000,\n                });\n                cardsList.innerHTML = '';\n            } else {\n                const info = data.hits.map(createGalleryCard).join(\"\");\n                cardsList.innerHTML = info;\n                gallery.refresh();\n            }\n            loader.classList.remove(\"is-open\");\n        })\n        .catch((err) => {\n            iziToast.error({\n                message: \"An error occurred while fetching data. Please try again!\",\n                position: \"topCenter\",\n                title: \"Error\",\n                color: \"red\",\n                timeout: 4000,\n            });\n            loader.classList.remove(\"is-open\");\n            console.log(err);\n        });\n\n    searchForm.reset();\n};\n\nsearchForm.addEventListener(\"submit\", onSearchFormSubmit);\n\n"],"names":["baseURL","fetchRequest","value","page","perPage","urlOptions","fullURL","response","error","createGalleryCard","imgData","searchForm","cardsList","loader","gallery","SimpleLightbox","onSearchFormSubmit","event","searchValue","iziToast","data","info","err"],"mappings":"6vBAAA,MAAMA,EAAU,sBAGHC,EAAe,CAACC,EAAOC,EAAMC,IAAY,CAElD,MAAMC,EAAa,IAAI,gBAAgB,CACnC,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAAC,EACA,SAAUC,CAClB,CAAK,EAGKE,EAAU,GAAGN,CAAO,SAASK,CAAU,GAC7C,eAAQ,IAAIC,CAAO,EAGZ,MAAMA,CAAO,EACf,KAAMC,GAAa,CAChB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,QAAQ,EAE5B,OAAOA,EAAS,MAC5B,CAAS,EAEA,MAAOC,GAAU,CACd,cAAQ,MAAM,eAAgBA,CAAK,EAC7BA,CAClB,CAAS,CACT,EChCO,SAASC,EAAmBC,EAAS,CACxC,MAAO;AAAA;AAAA,oCAEyBA,EAAQ,aAAa;AAAA,oBACrCA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,mCAK3BA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,mCAIbA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,mCAIbA,EAAQ,QAAQ;AAAA;AAAA;AAAA;AAAA,mCAIhBA,EAAQ,SAAS;AAAA;AAAA;AAAA;AAAA,KAKpD,CCnBA,MAAMC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAS,SAAS,cAAc,SAAS,EAI/C,IAAIC,EAAU,IAAIC,EAAe,gBAAiB,CAClD,SAAU,GACV,aAAc,gBACd,aAAc,MACd,aAAc,IACd,kBAAmB,EACnB,CAAC,EAcD,MAAMC,EAAsBC,GAAU,CAClCA,EAAM,eAAc,EACpBJ,EAAO,UAAU,IAAI,SAAS,EAE9B,MAAMK,EAAcP,EAAW,SAAS,WAAW,MAAM,OACzD,GAAIO,IAAgB,GAAI,CACpBC,EAAS,KAAK,CACV,QAAS,+BACT,SAAU,YACV,MAAO,YACP,MAAO,MACP,QAAS,GACrB,CAAS,EACDN,EAAO,UAAU,OAAO,SAAS,EACjC,MACH,CAEDZ,EAAaiB,CAAW,EACnB,KAAME,GAAS,CACZ,GAAIA,EAAK,KAAK,SAAW,EACrBD,EAAS,KAAK,CACV,QAAS,2EACT,SAAU,YACV,MAAO,YACP,MAAO,MACP,QAAS,GAC7B,CAAiB,EACDP,EAAU,UAAY,OACnB,CACH,MAAMS,EAAOD,EAAK,KAAK,IAAIX,CAAiB,EAAE,KAAK,EAAE,EACrDG,EAAU,UAAYS,EACtBP,EAAQ,QAAO,CAClB,CACDD,EAAO,UAAU,OAAO,SAAS,CAC7C,CAAS,EACA,MAAOS,GAAQ,CACZH,EAAS,MAAM,CACX,QAAS,2DACT,SAAU,YACV,MAAO,QACP,MAAO,MACP,QAAS,GACzB,CAAa,EACDN,EAAO,UAAU,OAAO,SAAS,EACjC,QAAQ,IAAIS,CAAG,CAC3B,CAAS,EAELX,EAAW,MAAK,CACpB,EAEAA,EAAW,iBAAiB,SAAUK,CAAkB"}